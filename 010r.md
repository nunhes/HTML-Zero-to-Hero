## Validaci贸ns de formularios

Ao crear formularios en HTML, 茅 fundamental anticiparse a erros mediante **sistemas de validaci贸n** que aseguren que os datos recibidos son correctos e seguros.

### Que 茅 unha validaci贸n?

A validaci贸n 茅 un proceso autom谩tico que comproba se a informaci贸n introducida cumpre certos requisitos. Existen dous tipos principais:

1. **Validaci贸n no cliente (frontend):**  
   Real铆zase no navegador antes de enviar datos
2. **Validaci贸n no servidor (backend):**  
   Exec煤tase no servidor tras recibir os datos

```mermaid
flowchart TD
    A[Usuario enche formulario] --> B{Validaci贸n frontend?}
    B -->|Si| C[Mostrar erros]
    B -->|Non| D[Enviar ao backend]
    D --> E{Validaci贸n backend?}
    E -->|Fallou| F[Devolver erros]
    E -->|xito| G[Procesar datos]
```

### Escenarios de validaci贸n

#### 1. Sen validaci贸n
```mermaid
flowchart LR
    A[Formulario] --> B[Backend]
    B --> C[(Base de datos)]
    style A stroke:#f00
    style B stroke:#f00
    style C stroke:#f00
```
**Riscos:**  
- Datos incorrectos ou maliciosos  
- Corrupci贸n de bases de datos  
- Vulnerabilidades de seguridade  

#### 2. Validaci贸n s贸 en frontend
```mermaid
flowchart LR
    A[Formulario] --> B{JS valida?}
    B -->|Si| C[Backend]
    B -->|Non| D[Correxir]
    C --> E[(BD)]
    style C stroke:#f00
```
**Problemas:**  
- Validaci贸n pode desactivarse  
- Sen comprobaci贸n final no servidor  

#### 3. Validaci贸n s贸 en backend
```mermaid
flowchart LR
    A[Formulario] --> B[Backend]
    B --> C{Valido?}
    C -->|Si| D[(BD)]
    C -->|Non| E[Devolver erro]
```
**Desvantaxes:**  
- Maior latencia  
- Posible perda de datos ao corrixir  

#### 4. Dobre validaci贸n (recomendado)
```mermaid
flowchart TD
    A[Usuario] --> B[Validaci贸n HTML/JS]
    B -->|Erros| C[Mostrar alertas]
    B -->|Correcto| D[Enviar ao backend]
    D --> E[Validaci贸n servidor]
    E -->|Erros| F[Devolver detalles]
    E -->|Correcto| G[(Gardar datos)]
```

### Boas pr谩cticas

1. **Validaci贸n HTML5:**  
   ```html
   <input type="email" required minlength="5" pattern="[a-z0-9]+@dominio\.gal">
   ```

2. **Validaci贸n con JavaScript:**  
   ```javascript
   document.querySelector('form').addEventListener('submit', (e) => {
     const input = document.getElementById('usuario');
     if (!input.checkValidity()) {
       e.preventDefault();
       mostrarErro('Nome de usuario inv谩lido');
     }
   });
   ```

3. **Validaci贸n no servidor (exemplo en Node.js):**  
   ```javascript
   app.post('/rexistro', (req, res) => {
     const { email } = req.body;
     if (!validarEmail(email)) {
       return res.status(400).json({ erro: 'Email inv谩lido' });
     }
     // Gardar en BD...
   });
   ```

### Recursos recomendados

- [Validaci贸n de formularios - MDN](https://developer.mozilla.org/gl/docs/Learn/Forms/Form_validation)
- [Express Validator](https://express-validator.github.io/docs/) (Middleware para Node.js)
- [Client-Side Form Handling](https://web.dev/learn/forms/)

---

**Conclusi贸n clave:**  
A combinaci贸n de validaci贸ns en frontend (para experiencia de usuario) e backend (para seguridade) ofrece a mellor protecci贸n contra erros e ataques.

---

DAW2025